# Kå‡å€¼ç®—æ³•

- kå‡å€¼ç®—æ³•
- db-scanç®—æ³•

## kå‡å€¼ç®—æ³•

1. ä»æ¯ä¸ªé›†ç¾¤ä¸­é€‰å– K ä¸ªæ•°æ®ç‚¹ä½œä¸ºè´¨å¿ƒï¼ˆcentroidsï¼‰ã€‚
2. å°†æ¯ä¸€ä¸ªæ•°æ®ç‚¹ä¸è·ç¦»è‡ªå·±æœ€è¿‘çš„è´¨å¿ƒåˆ’åˆ†åœ¨åŒä¸€é›†ç¾¤ï¼Œå³ç”Ÿæˆ K ä¸ªæ–°é›†ç¾¤ã€‚
3. æ‰¾å‡ºæ–°é›†ç¾¤çš„è´¨å¿ƒï¼Œè¿™æ ·å°±æœ‰äº†æ–°çš„è´¨å¿ƒã€‚
4. é‡å¤ 2 å’Œ 3ï¼Œç›´åˆ°ç»“æœæ”¶æ•›ï¼Œå³ä¸å†æœ‰æ–°çš„è´¨å¿ƒå‡ºç°ã€‚

æ€æ ·ç¡®å®š K çš„å€¼ï¼š

å¦‚æœæˆ‘ä»¬åœ¨æ¯ä¸ªé›†ç¾¤ä¸­è®¡ç®—é›†ç¾¤ä¸­æ‰€æœ‰ç‚¹åˆ°è´¨å¿ƒçš„è·ç¦»å¹³æ–¹å’Œï¼Œå†å°†ä¸åŒé›†ç¾¤çš„è·ç¦»å¹³æ–¹å’Œç›¸åŠ ï¼Œæˆ‘ä»¬å°±å¾—åˆ°äº†è¿™ä¸ªé›†ç¾¤æ–¹æ¡ˆçš„æ€»å¹³æ–¹å’Œã€‚

æˆ‘ä»¬çŸ¥é“ï¼Œéšç€é›†ç¾¤æ•°é‡çš„å¢åŠ ï¼Œæ€»å¹³æ–¹å’Œä¼šå‡å°‘ã€‚ä½†æ˜¯å¦‚æœç”¨æ€»å¹³æ–¹å’Œå¯¹ K ä½œå›¾ï¼Œä½ ä¼šå‘ç°åœ¨æŸä¸ª K å€¼ä¹‹å‰æ€»å¹³æ–¹å’Œæ€¥é€Ÿå‡å°‘ï¼Œä½†åœ¨è¿™ä¸ª K å€¼ä¹‹åå‡å°‘çš„å¹…åº¦å¤§å¤§é™ä½ï¼Œè¿™ä¸ªå€¼å°±æ˜¯æœ€ä½³çš„é›†ç¾¤æ•°ã€‚

è·ç¦»è®¡ç®—å…¬å¼ï¼š

ä¸€ç»´åæ ‡ç³»ä¸­,è®¾ A(x1),B(x2),åˆ™ A,B ä¹‹é—´çš„è·ç¦»ä¸º

âˆ£ğ´ğµâˆ£=âˆš[(ğ‘¥1âˆ’ğ‘¥2)2]     âˆ£*AB*âˆ£=âˆš[(*x*1âˆ’*x*2)2] 

äºŒç»´åæ ‡ç³»ä¸­,è®¾ A(x1,y1),B(x2,y2),åˆ™ A,B ä¹‹é—´çš„è·ç¦»ä¸º

âˆ£ğ´ğµâˆ£=âˆš[(ğ‘¥1âˆ’ğ‘¥2)2+(ğ‘¦1âˆ’ğ‘¦2)2]       âˆ£*AB*âˆ£=âˆš[(*x*1âˆ’*x*2)2+(*y*1âˆ’*y*2)2]

ä¸‰ç»´åæ ‡ç³»ä¸­,è®¾ A(x1,y1,z1),B(x2,y2,z2),åˆ™ A,B ä¹‹é—´çš„è·ç¦»ä¸º

âˆ£ğ´ğµâˆ£=âˆš[(ğ‘¥1âˆ’ğ‘¥2)2+(ğ‘¦1âˆ’ğ‘¦2)2+(ğ‘§1âˆ’ğ‘§2)2]âˆ£*AB*âˆ£=âˆš[(*x*1âˆ’*x*2)2+(*y*1âˆ’*y*2)2+(*z*1âˆ’*z*2)2]

ä»¥æ­¤ç±»æ¨

```python
#ç®€å•ç¤ºä¾‹
# å¯¼å…¥å¿…è¦çš„åº“
import numpy as np
import matplotlib.pyplot as plt
from sklearn.cluster import KMeans
from sklearn.datasets import load_iris
# åŠ è½½æ•°æ®
iris = load_iris()
iris_X = iris.data
iris_y = iris.target

# åˆ›å»ºKå‡å€¼æ¨¡å‹
kmeans = KMeans(n_clusters=3,random_state=0)
# æ‹Ÿåˆæ¨¡å‹ï¼Œæ³¨æ„çœ‹è¿™æ˜¯æ— ç›‘ç£å­¦ä¹ ï¼Œè¿™é‡Œåªå¡«å†™äº†æ•°æ®é›†ï¼Œæ²¡æœ‰ç»™æ ‡ç­¾ã€‚
kmeans.fit(iris_X)

# è·å–ç°‡ä¸­å¿ƒå’Œç°‡æ ‡ç­¾
centers = kmeans.cluster_centers_
labels = kmeans.labels_
print(iris_y)
print(iris_X[:,0])
print(labels)
plt.scatter(iris_X[:,0],iris_X[:,1],c=labels,marker="H")
plt.scatter(centers[:,0],centers[:,1],c="red",marker="2")
plt.title("Kmeans")
plt.show()

plt.scatter(iris_X[:,2],iris_X[:,3],c=labels,marker="H")
plt.scatter(centers[:,2],centers[:,3],c="red",marker="2")
plt.show()
```

## ç®€å•ç¤ºä¾‹

```python
# å¯¼å…¥å¿…è¦çš„åº“
import numpy as np
import matplotlib.pyplot as plt
from sklearn.cluster import KMeans
from sklearn.datasets import load_iris
# åŠ è½½æ•°æ®
iris = load_iris()
iris_X = iris.data
iris_y = iris.target

# åˆ›å»ºKå‡å€¼æ¨¡å‹
kmeans = KMeans(n_clusters=3)
# æ‹Ÿåˆæ¨¡å‹ï¼Œæ³¨æ„çœ‹è¿™æ˜¯æ— ç›‘ç£å­¦ä¹ ï¼Œè¿™é‡Œåªå¡«å†™äº†æ•°æ®é›†ï¼Œæ²¡æœ‰ç»™æ ‡ç­¾ã€‚
kmeans.fit(iris_X)

# è·å–ç°‡ä¸­å¿ƒå’Œç°‡æ ‡ç­¾
centers = kmeans.cluster_centers_
labels = kmeans.labels_
print(iris_y)
print(labels)

# æˆ‘ä»¬å‘ç°ä»–æŠŠ0ã€1ã€2åˆ†ç±»æˆäº†1ã€0ã€2ï¼Œè¿™æ˜¯å› ä¸ºKå‡å€¼ç®—æ³•æ˜¯æ— ç›‘ç£å­¦ä¹ ï¼Œä»–ä¸çŸ¥é“æˆ‘ä»¬çš„æ ‡ç­¾æ˜¯ä»€ä¹ˆï¼Œæ‰€ä»¥ä»–è‡ªå·±ç»™æˆ‘ä»¬åˆ†äº†ä¸€å¥—æ ‡ç­¾
```

## æ•ˆæœ

```python
# ä½¿ç”¨åˆ—è¡¨æ¨å¯¼å¼å°†0ã€1ã€2è½¬æ¢æˆ1ã€0ã€2
exchange={0:1,1:0,2:2}
exchange_labels = [exchange[i] if i in exchange else i for i in labels]

right = 0
error = 0
for i in zip(exchange_labels,iris_y):
    if i[0] == i[1]:
        right +=1
    else:
        error +=1

print('æ­£ç¡®ç‡ï¼š{}%'.format(right/(right+error)*100))
```

## db-scanç®—æ³•

### 1.ç”¨äºè®¡ç®—ä¸è§„åˆ™å›¾å½¢çš„ä¸­å¿ƒç‚¹

![Kå‡å€¼ç®—æ³•å›¾1](/img/machine-learning/kå‡å€¼ç®—æ³•å›¾1.png)

è®¡ç®—å‡º**æ¯ä¸ªç‚¹åˆ°è·å…¶ç¬¬kè¿‘çš„ç‚¹çš„è·ç¦»**ï¼Œç„¶åå°†è¿™äº›è·ç¦»ä»å¤§åˆ°å°æ’åºåè¿›è¡Œç»˜å›¾ã€‚
![Kå‡å€¼ç®—æ³•å›¾2](/img/machine-learning/kå‡å€¼ç®—æ³•å›¾2.png)
